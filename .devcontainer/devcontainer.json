{
  "name": "hailo model zoo",
  "dockerFile": "../Dockerfile",
  // 1️⃣  Add the official Node feature so `npm` & Node 22 exist
  "features": {
    "ghcr.io/devcontainers/features/node:1": { "version": "22" }
  },

  // Load environment variables from .env file
  "envFile": "../.env",

  "runArgs": [
    "--privileged",
    "--network", "host",
    "--ipc", "host",
    "--gpus", "all"
  ],
  "containerEnv": {
    "NVIDIA_VISIBLE_DEVICES": "all",
    "NVIDIA_DRIVER_CAPABILITIES": "compute,utility"
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python@2024.4.1",
        "ms-python.black-formatter",
        "ms-vscode.cpptools-extension-pack",
        "ms-vscode.cmake-tools",
        "twxs.cmake",
        "yzhang.markdown-all-in-one",
        "github.vscode-github-actions",
        "DavidAnson.vscode-markdownlint"
      ]
    }
  },

  "workspaceMount": "source=${localWorkspaceFolder},target=/${localWorkspaceFolderBasename},type=bind",
  "workspaceFolder": "/${localWorkspaceFolderBasename}",
  "postCreateCommand": "./.devcontainer/codexsetup.sh"
}
